<h1>Announcements</h1>
<div id="announcements"></div>

<script>
fetch('announcements/')
    .then(response => response.json())
    .then(announcements => {
        const currentDate = new Date();
        const announcementsDiv = document.getElementById('announcements');
        announcements.forEach(announcement => {
            const p = document.createElement('p');
            const a = document.createElement('a');
            const b = document.createElement('b');
            const br = document.createElement('br');

            a.href = `/announcements/${announcement.id}/`;
            a.textContent = announcement.title;
            b.textContent = announcement.content;

            p.appendChild(a);
            p.appendChild(br);
            p.appendChild(b);
            announcementsDiv.appendChild(p);
        });
    });
</script>

<h1>Job Openings</h1>
<div id="job_openings"></div>

<script>
fetch('job_openings/')
    .then(response => response.json())
    .then(jobOpenings => {
        const currentDate = new Date();
        const jobOpeningsDiv = document.getElementById('job_openings');
        jobOpenings.forEach(jobOpening => {
            const endOfRegistration = new Date(jobOpening.end_of_registration);
            if (endOfRegistration > currentDate)
            {            const p = document.createElement('p');
            const a = document.createElement('a');
            a.href = `/job_openings/${jobOpening.id}/`;
            a.textContent = jobOpening.NameofCompany;
            p.appendChild(a);
            jobOpeningsDiv.appendChild(p);}
        });
    });
</script>

<h1>Training Program</h1>
<div id="training_programs"></div>

<script>
fetch('training_programs/')
    .then(response => response.json())
    .then(trainingPrograms => {
        const currentDate = new Date();
        const trainingProgramsDiv = document.getElementById('training_programs');
        trainingPrograms.forEach(trainingProgram => {
            const endDate = new Date(trainingProgram.end_of_registration);
            if (endDate > currentDate){
            const p = document.createElement('p');
            const a = document.createElement('a');
            a.href = `/training_programs/${trainingProgram.id}/`;
            a.textContent = trainingProgram.training_subject;
            p.appendChild(a);}
            trainingProgramsDiv.appendChild(p);
        });
    });
</script>

<!-- Display announcements
{% for announcement in page_obj %}
<!-- Display announcement details 
{% endfor %}

<!-- Display job openings 
{% for job in jobs %}
<!-- Display job details 
{% endfor %}-->

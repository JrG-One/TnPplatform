<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tnp | Home</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-lg bg-body-tertiary">
            <div class="container-fluid">
                <a class="navbar-brand mx-4" href="/">TnPplatform</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="/">Home</a>
                        </li>
                    </ul>
                    <form class="d-flex" role="search">
                        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                        <button class="btn btn-outline-success" type="submit">Search</button>
                    </form>
                </div>
            </div>
        </nav>
    </header>
    <form method="post" action="{% url 'index' %}">
        {% csrf_token %}
        <div id="page-0" class="container my-2">
            <h1>Personal Details</h1>
            <div style="border-top:5px solid green"></div>
            <div class="row mt-3">
                <div class="col">
                    <div class="mb-3">
                        <label for="fname" class="form-label">First Name<b style="color: red;">*</b></label>
                        <input type="text" class="form-control" name="fname" id="fname" required value={{ user.firstname }}>
                    </div>
                    <div class="mb-3">
                        <label for="contact-no" class="form-label">Contact Number<b style="color: red;">*</b></label>
                        <input type="number" maxlength="10" name="contact-no" class="form-control" id="contact-no"
                            required value="{{ user.mobile|slice:"4:9" }}{{ user.mobile|slice:"10:15" }}">
                    </div>  
                    <div class="mb-3">
                        <label for="whats-no" class="form-label">Whatsapp Number<b style="color: red;">*</b></label>
                        <input type="number" maxlength="10" name="whats-no" class="form-control" id="whats-no" required value="{{ user.whatsno|slice:"4:9" }}{{ user.whatsno|slice:"10:15" }}">
                    </div>
                    <div class="mb-3">
                        <label for="linkedin" class="form-label">Linkedin profile link<b style="color: red;">*</b></label>
                        <input type="text" class="form-control" name="linkedin" id="linkedin" required value='https://www.{{ user.linked }}'>
                    </div>
                </div>
                <div class="col">
                    <div class="mb-3">
                        <label for="lname" class="form-label">Last Name<b style="color: red;">*</b></label>
                        <input type="text" class="form-control" id="lname" name="lname" required value = {{ user.lastname }}>
                    </div>
                    <div class="mb-3">
                        <label for="e-mail" class="form-label">Personal E-mail<b style="color: red;">*</b></label>
                        <input type="email" class="form-control" id="e-mail" name="e-mail" required value={{ user.email }}>
                    </div>
                    <div class="mb-3">
                        <label for="addr" class="form-label">Address<b style="color: red;">*</b></label>
                        <input type="text" class="form-control" id="addr" name="addr" required value={{ user.address }}>
                    </div>
                    <div class="mb-3">
                        <label for="github" class="form-label">Github profile link<b style="color: red;">*</b></label>
                        <input type="text" class="form-control" id="github" name="github" required value='https://{{ user.github }}'>
                    </div>
                </div>
            </div>
            <div class="mb-3">
                <label for="career-summary" class="form-label">Career summary</label>
                <textarea type="textarea" rows="5" class="form-control" id="career-summary"
                    name="career-summary" >{{user.CareerSum.data}}</textarea>
            </div>
            <div class="d-flex justify-content-center">
                <div class="btn btn-success px-5" onclick="handleNext(0)">Next</div>
            </div>
        </div>

        <div id="page-1" class="container my-2" style="display: none;">
            <h1>Education</h1>
            <div style="border-top:5px solid green"></div>
            <div class="mt-3">
                <div class="mb-3">
                    <label for="schname-1" class="form-label"><b>Name of 10th School</b><b style="color: red;">*</b></label>
                    <input type="text" class="form-control" id="schname-1" name="schname-1" maxlength="60" value={{ user.tenth.tenth_name }}>
                </div>
                <div class="mb-3">
                    <label for="sch-1-tperiod" class="form-label">Time Period<b style="color: red;">*</b></label>
                    <br>
                    <div class="d-flex">
                        <div>
                            <p class="my-2">From : </p>
                            <input type="number" min="2010" max="2025" class="form-control w-100" id="sch-1-tperiod-from"
                                name="sch-1-tperiod-from" value={{ user.tenth.tenth_period|slice:"0:4" }}>
                        </div>
                        <div class="mx-2">
                            <p class="my-2">To : </p>
                            <input type="number" min="2010" max="2025" class="form-control w-100" id="sch-1-tperiod-to" name="sch-1-tperiod-to" value={{ user.tenth.tenth_period|slice:"7:" }}>
                        </div>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="sch-1-cgpa" class="form-label">Percentage<b style="color: red;">*</b> </label>
                    <input type="number" class="form-control" id="sch-1-cgpa" name="sch-1-cgpa" value={{ user.tenth.tenth_per|slice:":-1" }}>
                </div>
                <div class="mb-3">
                    <label for="sch-1-board" class="form-label">10th Board<b style="color: red;">*</b></label>
                    <select class="form-select" id="sch-1-board" name="sch-1-board" aria-label="select example" onchange="selectBoard(this)">
                        <option value="0" selected>Select Board</option>
                        <option value="Central Board of Secondary Education (CBSE)">Central Board of Secondary Education (CBSE)</option>
                        <option value="Indian Certificate of Secondary Education (ICSE)">Indian Certificate of Secondary Education (ICSE)</option>
                        <option value="Bihar School Examination Board (BSEB)">Bihar School Examination Board (BSEB)</option>
                        <option value="Uttar Pradesh Board of Secondary Education (UPBSE)">Uttar Pradesh Board of Secondary Education (UPBSE)</option>
                        <option value="Madhya Pradesh Board of Secondary Education (MPBSE)">Madhya Pradesh Board of Secondary Education (MPBSE)</option>
                        <option value="Rajasthan Board of Secondary Education (RBSE)">Rajasthan Board of Secondary Education (RBSE)</option>
                        <option value="Haryana State Board of Technical Education (HSBTE)">Haryana State Board of Technical Education (HSBTE)</option>
                        <option value="Maharashtra State Board of Secondary and Higher Secondary Education (MSBSHSE)">Maharashtra State Board of Secondary and Higher Secondary Education (MSBSHSE)</option>
                        <option value="Gujarat Secondary and Higher Secondary Education Board (GSEB)">Gujarat Secondary and Higher Secondary Education Board (GSEB)</option>
                        <option value="West Bengal Board of Secondary Education (WBBSE)">West Bengal Board of Secondary Education (WBBSE)</option>
                        <option value="Jammu and Kashmir State Board of School Education (JKBOSE)">Jammu and Kashmir State Board of School Education (JKBOSE)</option>
                        <option value="Tamil Nadu Board of Secondary Education (TNBSE)">Tamil Nadu Board of Secondary Education (TNBSE)</option>
                        <option value="Punjab School Education Board (PSEB)">Punjab School Education Board (PSEB)</option>
                        <option value="Karnataka Secondary Education Examination Board (KSEEB)">Karnataka Secondary Education Examination Board (KSEEB)</option>
                        <option value="Kerala Board of Public Examinations (KBPE)">Kerala Board of Public Examinations (KBPE)</option>
                        <option value="Telangana Board of Secondary Education (TBSE)">Telangana Board of Secondary Education (TBSE)</option>
                        <option value="Andhra Pradesh Board of Secondary Education (APBSE)">Andhra Pradesh Board of Secondary Education (APBSE)</option>
                        <option value="Odisha Board of Secondary Education (OBSE)">Odisha Board of Secondary Education (OBSE)</option>
                        <option value="Chhattisgarh Board of Secondary Education (CGBSE)">Chhattisgarh Board of Secondary Education (CGBSE)</option>
                        <option value="Jharkhand Academic Council (JAC)">Jharkhand Academic Council (JAC)</option>
                        <option value="Nagaland Board of School Education (NBSE)">Nagaland Board of School Education (NBSE)</option>
                        <option value="Assam Higher Secondary Education Council (AHSEC)">Assam Higher Secondary Education Council (AHSEC)</option>
                        <option value="Uttarakhand Board of School Education (UBSE)">Uttarakhand Board of School Education (UBSE)</option>
                        <option value="Haryana Board of School Education (HBSE)">Haryana Board of School Education (HBSE)</option>
                        <option value="National Institute of Open Schooling (NIOS)">National Institute of Open Schooling (NIOS)</option>
                        <option value="Aligarh Muslim University (AMU)">Aligarh Muslim University (AMU)</option>
                        <option value="Council of Higher Secondary Education (CHSE)">Council of Higher Secondary Education (CHSE)</option>
                        <option value="Other">Other (Specify)</option>
                    </select>
                </div>
                <div id="otherBoardInput" style="display: none;">
                    <input type="text" class="form-control" id="otherBoardText" name="otherBoardText" placeholder="Enter the name of the board">
                </div>

                <hr>
                <div class="mb-3">
                    <label for="schname-2" class="form-label"><b>Name of 12th School</b><b style="color: red;">*</b></label>
                    <input type="text" class="form-control" id="schname-2" name="schname-2" maxlength="60" value={{ user.twelth.twelth_name }}>
                </div>
                <div class="mb-3">
                    <label for="sch-2-tperiod" class="form-label">Time Period<b style="color: red;">*</b></label>
                    <br>
                    <div class="d-flex">
                        <div>
                            <p class="my-2">From : </p>
                            <input type="number" min="2010" max="2030" class="form-control w-100" id="sch-2-tperiod-from"
                                name="sch-2-tperiod-from" value={{ user.twelth.twelth_period|slice:"0:4" }}>
                        </div>
                        <div class="mx-2">
                            <p class="my-2">To : </p>
                            <input type="number" min="2010" max="2030" class="form-control w-100" id="sch-2-tperiod-to"
                                name="sch-2-tperiod-to" value={{ user.twelth.twelth_period|slice:"7:" }}>
                        </div>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="sch-2-cgpa" class="form-label">Percentage<b style="color: red;">*</b> </label>
                    <input type="number" class="form-control" id="sch-2-cgpa" name="sch-2-cgpa" value={{ user.twelth.twelth_per|slice:":-1" }}>
                </div>
                <div class="mb-3">
                    <label for="sch-2-board" class="form-label">12th Board<b style="color: red;">*</b></label>
                    <select class="form-select" id="sch-2-board" name="sch-2-board" aria-label="select example" onchange="selectBoard2(this)">
                        <option value="0" selected>Select Board</option>
                        <option value="Central Board of Secondary Education (CBSE)">Central Board of Secondary Education (CBSE)</option>
                        <option value="Indian Certificate of Secondary Education (ICSE)">Indian Certificate of Secondary Education (ICSE)</option>
                        <option value="Bihar School Examination Board (BSEB)">Bihar School Examination Board (BSEB)</option>
                        <option value="Uttar Pradesh Board of Secondary Education (UPBSE)">Uttar Pradesh Board of Secondary Education (UPBSE)</option>
                        <option value="Madhya Pradesh Board of Secondary Education (MPBSE)">Madhya Pradesh Board of Secondary Education (MPBSE)</option>
                        <option value="Rajasthan Board of Secondary Education (RBSE)">Rajasthan Board of Secondary Education (RBSE)</option>
                        <option value="Haryana State Board of Technical Education (HSBTE)">Haryana State Board of Technical Education (HSBTE)</option>
                        <option value="Maharashtra State Board of Secondary and Higher Secondary Education (MSBSHSE)">Maharashtra State Board of Secondary and Higher Secondary Education (MSBSHSE)</option>
                        <option value="Gujarat Secondary and Higher Secondary Education Board (GSEB)">Gujarat Secondary and Higher Secondary Education Board (GSEB)</option>
                        <option value="West Bengal Board of Secondary Education (WBBSE)">West Bengal Board of Secondary Education (WBBSE)</option>
                        <option value="Jammu and Kashmir State Board of School Education (JKBOSE)">Jammu and Kashmir State Board of School Education (JKBOSE)</option>
                        <option value="Tamil Nadu Board of Secondary Education (TNBSE)">Tamil Nadu Board of Secondary Education (TNBSE)</option>
                        <option value="Punjab School Education Board (PSEB)">Punjab School Education Board (PSEB)</option>
                        <option value="Karnataka Secondary Education Examination Board (KSEEB)">Karnataka Secondary Education Examination Board (KSEEB)</option>
                        <option value="Kerala Board of Public Examinations (KBPE)">Kerala Board of Public Examinations (KBPE)</option>
                        <option value="Telangana Board of Secondary Education (TBSE)">Telangana Board of Secondary Education (TBSE)</option>
                        <option value="Andhra Pradesh Board of Secondary Education (APBSE)">Andhra Pradesh Board of Secondary Education (APBSE)</option>
                        <option value="Odisha Board of Secondary Education (OBSE)">Odisha Board of Secondary Education (OBSE)</option>
                        <option value="Chhattisgarh Board of Secondary Education (CGBSE)">Chhattisgarh Board of Secondary Education (CGBSE)</option>
                        <option value="Jharkhand Academic Council (JAC)">Jharkhand Academic Council (JAC)</option>
                        <option value="Nagaland Board of School Education (NBSE)">Nagaland Board of School Education (NBSE)</option>
                        <option value="Assam Higher Secondary Education Council (AHSEC)">Assam Higher Secondary Education Council (AHSEC)</option>
                        <option value="Uttarakhand Board of School Education (UBSE)">Uttarakhand Board of School Education (UBSE)</option>
                        <option value="Haryana Board of School Education (HBSE)">Haryana Board of School Education (HBSE)</option>
                        <option value="National Institute of Open Schooling (NIOS)">National Institute of Open Schooling (NIOS)</option>
                        <option value="Aligarh Muslim University (AMU)">Aligarh Muslim University (AMU)</option>
                        <option value="Council of Higher Secondary Education (CHSE)">Council of Higher Secondary Education (CHSE)</option>
                        <option value="Other">Other (Specify)</option>
                    </select>
                </div>
                <div id="otherBoardInput2" style="display: none;">
                    <input type="text" class="form-control" id="otherBoardText2" name="otherBoardText2" placeholder="Enter the name of the board">
                </div>

                <hr>
                <div class="mb-3">
                    <label for="insname" class="form-label"><b>Name of Institute</b><b style="color: red;">*</b></label>
                    <input type="text" class="form-control" id="insname" name="insname" maxlength="60" value="Indian Institute of Information Technology Surat">
                </div>
                <div class="mb-3">
                    <label for="tperiod" class="form-label">Time Period<b style="color: red;">*</b></label>
                    <br>
                    <div class="d-flex">
                        <div>
                            <p class="my-2">From : </p>
                            <input type="number" min="2021" max="2025" class="form-control w-100" id="tperiod1"
                                name="tperiod1"  value={{ user.education.ed_date|slice:"0:4" }}>
                        </div>
                        <div class="mx-2">
                            <p class="my-2">To : </p>
                            <input type="number" min="2025" max="2029" class="form-control w-100" id="tperiod2"
                                name="tperiod2" value={{ user.education.ed_date|slice:"7:" }}>
                        </div>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="ins-cgpa" class="form-label">CGPA<b style="color: red;">*</b></label>
                    <input type="number" class="form-control" id="ins-cgpa" name="ins-cgpa" value={{ user.education.ins_cgpa }}>
                </div>
                <div class="mb-3">
                    <label for="eddetails" class="form-label">Branch<b style="color: red;">*</b></label>
                    <select class="form-select" aria-label="select example" id="eddetails" name="eddetails">
                        <option value="0" selected>Select Branch</option>
                        <option value="Computer Science and Engineering">Computer Science and Engineering</option>
                        <option value="Electronics and Communication Engineering">Electronics and Communication Engineering</option>
                    </select>
                </div>
            </div>

            <div class="d-flex justify-content-center">
                <div class="btn btn-outline-success px-5 mx-4" onclick="handlePrev(1)">Prev</div>
                <div class="btn btn-success px-5 mx-4" onclick="handleNext(1)">Next</div>
            </div>
        </div>
        <!-- Skills -->
        <div class="container my-2" id="page-2" style="display: none;">
            <h1>Skills</h1>
            <div style="border-top:5px solid green"></div>
            <div class="mt-3">
                <div class="mb-3">
                    <label for="skill1" class="form-label">Programming Languages<b style="color: red;">*</b></label>
                    <input type="text" class="form-control" id="skill1" name="skill1" placeholder="e.g. C,C++,Java,Python etc..." value="{{ user.Skills.prog_lang }}" >
                </div>
                <div class="mb-3">
                    <label for="skill2" class="form-label">Technologies or Frameworks</label>
                    <input type="text" class="form-control" id="skill2" name="skill2" placeholder="e.g. React Js,Node Js,Django,Flask etc..." value="{{ user.Skills.tech_frame_lib }}">
                </div>
                <div class="mb-3">
                    <label for="skill3" class="form-label">Version Control</label>
                    <input type="text" class="form-control" id="skill3" name="skill3" placeholder="e.g. Git,Github..." value="{{ user.Skills.version_control }}">
                </div>
                <div class="mb-3">
                    <label for="skill4" class="form-label">Familiar with</label>
                    <input type="text" class="form-control" id="skill4" name="skill4" placeholder="e.g. Postman,MongoDB,MySQL etc...  " value="{{ user.Skills.familier }}">
                </div>
            </div>
            <div class="d-flex justify-content-center">
                <div class="btn btn-outline-success px-5 mx-4" onclick="handlePrev(2)">Prev</div>
                <div class="btn btn-success px-5 mx-4" onclick="handleNext(2)">Next</div>
            </div>
        </div>
        <!-- Achievements -->

        <div class="container my-2" id="page-3" style="display: none;">
            <h1>Achievements</h1>
            <div style="border-top:5px solid green"></div>
            <div class="mt-3">
                <div class="mb-3">
                    <label for="achieve1" class="form-label">Achievements</label>
                    <input type="text" class="form-control" id="achieve1" name="achieve1" value="{{ user.achievement.0.ach_details }}"> 
                </div>
                <div class="mb-3">
                    <label for="achieve2" class="form-label">Achievements</label>
                    <input type="text" class="form-control" id="achieve2" name="achieve2" value="{{ user.achievement.1.ach_details }}">
                </div>
                <div class="mb-3">
                    <label for="achieve3" class="form-label">Achievements</label>
                    <input type="text" class="form-control" id="achieve3" name="achieve3" value="{{ user.achievement.2.ach_details }}">
                </div>
            </div>
            <div class="d-flex justify-content-center">
                <div class="btn btn-outline-success px-5 mx-4" onclick="handlePrev(3)">Prev</div>
                <div class="btn btn-success px-5 mx-4" onclick="handleNext(3)">Next</div>
            </div>
        </div>

        <!-- Experience -->
        <div class="container my-2" id="page-4" style="display: none;">
            <h1>Experience</h1>
            <div style="border-top:5px solid green"></div>
            
            <!-- Experience accordion -->
            <div class="accordion" id="experienceAccordion">
            {% if user.experience %}
            {% for experience in user.experience %}
            
                
                <div class="accordion-item" id="experienceItem{{ forloop.counter }}">
                    <h2 class="accordion-header" id="experienceHeading{{ forloop.counter }}">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse"
                            data-bs-target="#experienceCollapse{{ forloop.counter }}" aria-expanded="true"
                            aria-controls="experienceCollapse{{ forloop.counter }}">
                            Experience {{ forloop.counter }}
                        </button>
                    </h2>
                    <div id="experienceCollapse{{ forloop.counter }}" class="accordion-collapse collapse show" aria-labelledby="experienceHeading{{ forloop.counter }}" data-bs-parent="#experienceAccordion">
                    <div class="accordion-body">
            <div class="mb-3">
                <label for="exp-{{ forloop.counter }}-cname" class="form-label">Name of Company<b style="color: red;">*</b></label>
                <input type="text" class="form-control" id="exp-{{ forloop.counter }}-cname" name="exp-{{ forloop.counter }}-cname" value ="{{ experience.exp_company }}">
            </div>
            <div class="mb-3">
                <label for="exp-{{ forloop.counter }}-time-period" class="form-label">Time-Period<b style="color: red;">*</b></label>
                <br>
                <div class="d-flex">
                    <div>
                        <p class="my-2">From : </p>
                        <input type="number" min="2020" max="2040" class="form-control w-100"
                            id="exp-{{ forloop.counter }}-time-period-from" name="exp-{{ forloop.counter }}-time-period-from" value ="{{ experience.exp_date|slice:"0:4" }}">
                    </div>
                    <div class="mx-2">
                        <p class="my-2">To : </p>
                        <input type="number" min="2020" max="2040" class="form-control w-100"
                            id="exp-{{ forloop.counter }}-time-period-to" name="exp-{{ forloop.counter }}-time-period-to" value ="{{ experience.exp_date|slice:"7:" }}">
                    </div> 
                </div>
            </div>
            <div class="mb-3">
                <label for="exp-{{ forloop.counter }}-designation" class="form-label">Designation<b style="color: red;">*</b></label>
                <input type="text" class="form-control" id="exp-{{ forloop.counter }}-designation" name="exp-{{ forloop.counter }}-designation" value ="{{ experience.exp_details1 }}">
            </div>
            <div class="mb-3">
                <label for="exp-{{ forloop.counter }}-location" class="form-label">Location<b style="color: red;">*</b></label>
                <input type="text" class="form-control" id="exp-{{ forloop.counter }}-location" name="exp-{{ forloop.counter }}-location" value ="{{ experience.exp_details2 }}">
            </div>
            <div class="mb-3">
                <label for="exp-{{ forloop.counter }}-det-1" class="form-label">details-1</label>
                <input type="text" class="form-control" id="exp-{{ forloop.counter }}-det-1" name="exp-{{ forloop.counter }}-det-1" value ="{{ experience.exp_details3.0.exp_details }}">
            </div>
            <div class="mb-3">
                <label for="exp-{{ forloop.counter }}-det-2" class="form-label">details-2</label>
                <input type="text" class="form-control" id="exp-{{ forloop.counter }}-det-2" name="exp-{{ forloop.counter }}-det-2" value ="{{ experience.exp_details3.0.exp_details }}">
            </div>
            <div class="mb-3">
                <label for="exp-{{ forloop.counter }}-det-3" class="form-label">details-3</label>
                <input type="text" class="form-control" id="exp-{{ forloop.counter }}-det-3" name="exp-{{ forloop.counter }}-det-3" value ="{{ experience.exp_details3.0.exp_details }}">
            </div>
            <button class="btn btn-danger delete-btn" onclick="deleteExperience({{ forloop.counter }})">Delete</button>
        </div>
    </div>
    </div>

        {% endfor %}
        {% else %}
   
                
            <div class="accordion-item" id="experienceItem1">
                <h2 class="accordion-header" id="experienceHeading1">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse"
                        data-bs-target="#experienceCollapse1" aria-expanded="true"
                        aria-controls="experienceCollapse1">
                        Experience 1
                    </button>
                </h2>
                <div id="experienceCollapse1" class="accordion-collapse collapse show"
                    aria-labelledby="experienceHeading1" data-bs-parent="#experienceAccordion">
                    <div class="accordion-body">
        <div class="mb-3">
            <label for="exp-1-cname" class="form-label">Name of Company<b
                    style="color: red;">*</b></label>
            <input type="text" class="form-control" id="exp-1-cname" name="exp-1-cname"
                maxlength="66">
        </div>
        <div class="mb-3">
            <label for="exp-1-time-period" class="form-label">Time-Period<b
                    style="color: red;">*</b></label>
            <br>
            <div class="d-flex">
                <div>
                    <p class="my-2">From : </p>
                    <input type="number" min="2020" max="2040" class="form-control w-100"
                        id="exp-1-time-period-from" name="exp-1-time-period-from">
                </div>
                <div class="mx-2">
                    <p class="my-2">To : </p>
                    <input type="number" min="2020" max="2040" class="form-control w-100"
                        id="exp-1-time-period-to" name="exp-1-time-period-to">
                </div>
            </div>
        </div>
        <div class="mb-3">
            <label for="exp-1-designation" class="form-label">Designation<b
                    style="color: red;">*</b></label>
            <input type="text" class="form-control" id="exp-1-designation" name="exp-1-designation"
                maxlength="66">
        </div>
        <div class="mb-3">
            <label for="exp-1-location" class="form-label">Location<b
                    style="color: red;">*</b></label>
            <input type="text" class="form-control" id="exp-1-location" name="exp-1-location"
                maxlength="66">
        </div>
        <div class="mb-3">
            <label for="exp-1-det-1" class="form-label">details-1</label>
            <input type="text" class="form-control" id="exp-1-det-1" name="exp-1-det-1">
        </div>
        <div class="mb-3">
            <label for="exp-1-det-2" class="form-label">details-2</label>
            <input type="text" class="form-control" id="exp-1-det-2" name="exp-1-det-2">
        </div>
        <div class="mb-3">
            <label for="exp-1-det-3" class="form-label">details-3</label>
            <input type="text" class="form-control" id="exp-1-det-3" name="exp-1-det-3">
        </div>
        <button class="btn btn-danger delete-btn" onclick="deleteExperience(1)">Delete</button>
    </div>
</div>
</div>

        {% endif %}
</div>



            <div type="button" class="btn btn-outline-primary my-3" onclick="addExperience()">Add More
                Experiences</div>
            <div class="d-flex justify-content-center">
                <div class="btn btn-outline-success px-5 mx-4" onclick="handlePrev(4)">Prev</div>
                <div class="btn btn-success px-5 mx-4" onclick="handleNext(4)">Next</div>
            </div>
        </div>


        <div class="container my-2" id="page-5" style="display: none;">
            <h1>Internships</h1>
            <div style="border-top:5px solid green"></div>

            <div class="accordion" id="accordionInternships">

            {% if user.Internships %}
            {% for intern in user.Internships %}
  

                <div class="accordion-item" id='internshipItem{{ forloop.counter }}'>
                    <h2 class="accordion-header" id="internshipHeading1">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse"
                            data-bs-target="#internshipCollapse{{ forloop.counter }}" aria-expanded="true"
                            aria-controls="internshipCollapse{{ forloop.counter }}">
                            Internship {{ forloop.counter }}
                        </button>
                    </h2>
                    <div id="internshipCollapse{{ forloop.counter }}" class="accordion-collapse collapse show"
                        aria-labelledby="internshipHeading{{ forloop.counter }}" data-bs-parent="#accordionInternships">
                        <div class="accordion-body">

            <div class="mb-3">
                <label for="intern-{{ forloop.counter }}-cname" class="form-label">Name of Company<b style="color: red;">*</b></label>
                <input type="text" class="form-control" id="intern-{{ forloop.counter }}-cname" name="intern-{{ forloop.counter }}-cname" value = "{{ intern.intern_company}}">
            </div>
            <div class="mb-3">
                <label for="intern-{{ forloop.counter }}-time-period" class="form-label">Time-Period<b style="color: red;">*</b></label>
                <br>
                <div class="d-flex">
                    <div>
                        <p class="my-2">From : </p>
                        <input type="number" min="2020" max="2030" class="form-control w-100"
                            id="intern-{{ forloop.counter }}-time-period-from" name="intern-{{ forloop.counter }}-time-period-from" value = "{{ intern.intern_date|slice:"0:4" }}">
                    </div>
                    <div class="mx-2">
                        <p class="my-2">To : </p>
                        <input type="number" min="2020" max="2030" class="form-control w-100"
                            id="intern-{{ forloop.counter }}-time-period-to" name="intern-{{ forloop.counter }}-time-period-to" value = "{{ intern.intern_date|slice:"7:" }}">
                    </div> 
                </div>
            </div>
            <div class="mb-3">
                <label for="intern-{{ forloop.counter }}-role" class="form-label">Role<b style="color: red;">*</b></label>
                <input type="text" class="form-control" id="intern-{{ forloop.counter }}-role" name="intern-{{ forloop.counter }}-role" value = "{{ intern.intern_details1 }}">
            </div>
            <div class="mb-3">
                <label for="intern-{{ forloop.counter }}-location" class="form-label">Location<b style="color: red;">*</b></label>
                <input type="text" class="form-control" id="intern-{{ forloop.counter }}-location" name="intern-{{ forloop.counter }}-location" value = "{{ intern.intern_details2 }}">
            </div>
            <div class="mb-3">
                <label for="intern-{{ forloop.counter }}-det-1" class="form-label">details-1</label>
                <input type="text" class="form-control" id="intern-{{ forloop.counter }}-det-1" name="intern-{{ forloop.counter }}-det-1" value = "{{ intern.intern_details1.0.intern_details }}">
            </div>
            <div class="mb-3">
                <label for="intern-{{ forloop.counter }}-det-2" class="form-label">details-2</label>
                <input type="text" class="form-control" id="intern-{{ forloop.counter }}-det-2" name="intern-{{ forloop.counter }}-det-2" value = "{{ intern.intern_details1.1.intern_details }}">
            </div>
            <div class="mb-3">
                <label for="intern-{{ forloop.counter }}-det-3" class="form-label">details-3</label>
                <input type="text" class="form-control" id="intern-{{ forloop.counter }}-det-3" name="intern-{{ forloop.counter }}-det-3" value = "{{ intern.intern_details1.2.intern_details }}">
            </div>
            <button class="btn btn-danger delete-btn" onclick="deleteInternship({{ forloop.counter }})">Delete</button>
        </div>
    </div>
</div>
            
            {% endfor %}
            {% else %}
            

                <div class="accordion-item" id='internshipItem1'>
                    <h2 class="accordion-header" id="internshipHeading1">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse"
                            data-bs-target="#internshipCollapse1" aria-expanded="true"
                            aria-controls="internshipCollapse1">
                            Internship 1
                        </button>
                    </h2>
                    <div id="internshipCollapse1" class="accordion-collapse collapse show"
                        aria-labelledby="internshipHeading1" data-bs-parent="#accordionInternships">
                        <div class="accordion-body">
            <div class="mb-3">
                <label for="intern-1-cname" class="form-label">Name of Company<b
                        style="color: red;">*</b></label>
                <input type="text" class="form-control" id="intern-1-cname" name="intern-1-cname"
                    maxlength="66">
            </div>
            <div class="mb-3">
                <label for="intern-1-time-period" class="form-label">Time-Period<b
                        style="color: red;">*</b></label>
                <br>
                <div class="d-flex">
                    <div>
                        <p class="my-2">From : </p>
                        <input type="number" min="2020" max="2030" class="form-control w-100"
                            id="intern-1-time-period-from" name="intern-1-time-period-from">
                    </div>
                    <div class="mx-2">
                        <p class="my-2">To : </p>
                        <input type="number" min="2020" max="2030" class="form-control w-100"
                            id="intern-1-time-period-to" name="intern-1-time-period-to">
                    </div>
                </div>
            </div>
            <div class="mb-3">
                <label for="intern-1-role" class="form-label">Role<b style="color: red;">*</b></label>
                <input type="text" class="form-control" id="intern-1-role" name="intern-1-role"
                    maxlength="66">
            </div>
            <div class="mb-3">
                <label for="intern-1-location" class="form-label">Location<b
                        style="color: red;">*</b></label>
                <input type="text" class="form-control" id="intern-1-location" name="intern-1-location"
                    maxlength="66">
            </div>
            <div class="mb-3">
                <label for="intern-1-det-1" class="form-label">Details-1</label>
                <input type="text" class="form-control" id="intern-1-det-1" name="intern-1-det-1">
            </div>
            <div class="mb-3">
                <label for="intern-1-det-2" class="form-label">Details-2</label>
                <input type="text" class="form-control" id="intern-1-det-2" name="intern-1-det-2">
            </div>
            <div class="mb-3">
                <label for="intern-1-det-3" class="form-label">Details-3</label>
                <input type="text" class="form-control" id="intern-1-det-3" name="intern-1-det-3">
            </div>
            <button class="btn btn-danger delete-btn" onclick="deleteInternship(1)">Delete</button>
        </div>
    </div>
</div>

            {% endif %}
</div>
            <!-- Button to add more Internships -->
            <div type="button" class="btn btn-outline-primary my-3" onclick="addInternship()">Add More Internships</div>

            <!-- Buttons to handle next and previous for Internships -->
            <div class="d-flex justify-content-center">
                <div class="btn btn-outline-success px-5 mx-4" onclick="handlePrev(5)">Prev</div>
                <div class="btn btn-success px-5 mx-4" onclick="handleNext(5)">Next</div>
            </div>
        </div>

        <div class="container my-2" id="page-6" style="display: none;">
            <h1>Hackathons</h1>
            <div style="border-top:5px solid green"></div>

            <!-- Hackathon Accordion -->
            <div class="accordion" id="accordionHackathons">
               
                            {% if user.Hackathon %}
                            {% for hack in user.Hackathon %}
                            <div class="accordion-item" id="hackathonItem{{ forloop.counter }}">
                                <h2 class="accordion-header" id="hackathonHeading{{ forloop.counter }}">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#hackathonCollapse{{ forloop.counter }}" aria-expanded="true"
                                        aria-controls="hackathonCollapse{{ forloop.counter }}">
                                        Hackathon {{ forloop.counter }}
                                    </button>
                                </h2>
                                <div id="hackathonCollapse{{ forloop.counter }}" class="accordion-collapse collapse show"
                                    aria-labelledby="hackathonHeading{{ forloop.counter }}" data-bs-parent="#accordionHackathons">
                                    <div class="accordion-body">

                            <div class="mb-3">
                                <label for="hack-{{ forloop.counter }}-name" class="form-label">Hackathon Name<b style="color: red;">*</b></label>
                                <input type="text" class="form-control" id="hack-{{ forloop.counter }}-name" name="hack-{{ forloop.counter }}-name" value="{{ hack.hack_title }}">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Hackathon Status<b style="color: red;">*</b></label> 
                                <div class="form-check">
                                    {% if hack.hack_status == 'winner' %}
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="hack-{{ forloop.counter }}-status" id="hack-{{ forloop.counter }}-status-1" value="winner" checked>
                                            <label class="form-check-label" for="inlineRadio1">winner</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="hack-{{ forloop.counter }}-status" id="hack-{{ forloop.counter }}-status-2" value="participated">
                                            <label class="form-check-label" for="inlineRadio2" >participated</label>
                                        </div>
                                    {% else %}
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="hack-{{ forloop.counter }}-status" id="hack-{{ forloop.counter }}-status-1" value="winner">
                                            <label class="form-check-label" for="inlineRadio1">winner</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="hack-{{ forloop.counter }}-status" id="hack-{{ forloop.counter }}-status-2" value="participated" checked>
                                            <label class="form-check-label" for="inlineRadio2" >participated</label>
                                        </div>
                                    {% endif %}
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="hack-{{ forloop.counter }}-time-period" class="form-label">Year of Hackathon<b style="color: red;">*</b></label>
                                <input type="number" class="form-control w-25" id="hack-{{ forloop.counter }}-time-period" name="hack-{{ forloop.counter }}-time-period" min="2011" value="{{ hack.hack_date }}">
                            </div>
                            <div class="mb-3">
                                <label for="hack-{{ forloop.counter }}-det-1" class="form-label">Details-1</label>
                                <input type="text" class="form-control" id="hack-{{ forloop.counter }}-det-1" name="hack-{{ forloop.counter }}-det-1" value="{{ hack.hack_details.0.hack_details1 }}">
                            </div>
                            <div class="mb-3">
                                <label for="hack-{{ forloop.counter }}-det-2" class="form-label">Details-2</label>
                                <input type="text" class="form-control" id="hack-{{ forloop.counter }}-det-2" name="hack-{{ forloop.counter }}-det-2" value="{{ hack.hack_details.1.hack_details1 }}">
                            </div>
                            <button class="btn btn-danger delete-btn" onclick="deleteHackathon({{ forloop.counter }})">Delete</button>
                        </div>
                    </div>
                </div>
                            {% endfor %}
                            {% else %}
                            <div class="accordion-item" id="hackathonItem1">
                                <h2 class="accordion-header" id="hackathonHeading1">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#hackathonCollapse1" aria-expanded="true"
                                        aria-controls="hackathonCollapse1">
                                        Hackathon 1
                                    </button>
                                </h2>
                                <div id="hackathonCollapse1" class="accordion-collapse collapse show"
                                    aria-labelledby="hackathonHeading1" data-bs-parent="#accordionHackathons">
                                    <div class="accordion-body">
                                <div class="mb-3">
                                    <label for="hack-1-name" class="form-label">Hackathon Name<b
                                            style="color: red;">*</b></label>
                                    <input type="text" class="form-control" id="hack-1-name" name="hack-1-name" maxlength="66">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Hackathon Status<b style="color: red;">*</b></label> 
                                    <div class="form-check">
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="hack-1-status" id="hack-1-status-1" value="winner">
                                            <label class="form-check-label" for="inlineRadio1">winner</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="hack-1-status" id="hack-1-status-2" value="participated" checked>
                                            <label class="form-check-label" for="inlineRadio2" >participated</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="hack-1-time-period" class="form-label">Year of Hackathon<b
                                            style="color: red;">*</b></label>
                                    <input type="number" class="form-control w-25" id="hack-1-time-period"
                                        name="hack-1-time-period" placeholder="year" min="2020">
                                </div>
                                <div class="mb-3">
                                    <label for="hack-1-det-1" class="form-label">Details-1</label>
                                    <input type="text" class="form-control" id="hack-1-det-1" name="hack-1-det-1">
                                </div>
                                <div class="mb-3">
                                    <label for="hack-1-det-2" class="form-label">Details-2</label>
                                    <input type="text" class="form-control" id="hack-1-det-2" name="hack-1-det-2">
                                </div>
                                <button class="btn btn-danger delete-btn" onclick="deleteHackathon(1)">Delete</button>
                        </div>
                    </div>
                </div>
                            {% endif %}
                        
            </div>

            <!-- Button to add more Hackathons -->
            <div type="button" class="btn btn-outline-primary my-3" onclick="addHackathon()">Add More Hackathons</div>

            <!-- Buttons to handle next and previous for Hackathons -->
            <div class="d-flex justify-content-center">
                <div class="btn btn-outline-success px-5 mx-4" onclick="handlePrev(6)">Prev</div>
                <div class="btn btn-success px-5 mx-4" onclick="handleNext(6)">Next</div>
            </div>
        </div>

        <div class="container my-2" id="page-7" style="display: none;">
            <h1>Notable Github Projects</h1>
            <div style="border-top:5px solid green"></div>

            <!-- Github Projects Accordion -->
            <div class="accordion" id="accordionGithubProjects">
                <!-- Initial Github Project item -->
                
                            {% if user.Gitproj %}
                            {% for proj in user.Gitproj %}
                            <div class="accordion-item" id="githubProjectItem{{ forloop.counter }}">
                                <h2 class="accordion-header" id="githubProjectHeading{{ forloop.counter }}">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#githubProjectCollapse{{ forloop.counter }}" aria-expanded="true"
                                        aria-controls="githubProjectCollapse{{ forloop.counter }}">
                                        Project {{ forloop.counter }}
                                    </button>
                                </h2>
                                <div id="githubProjectCollapse{{ forloop.counter }}" class="accordion-collapse collapse show"
                                    aria-labelledby="githubProjectHeading{{ forloop.counter }}" data-bs-parent="#accordionGithubProjects">
                                    <div class="accordion-body">
                          
                            <div class="mb-3">
                                <label for="git-proj-{{ forloop.counter }}-name" class="form-label">Project Name<b style="color: red;">*</b></label>
                                <input type="text" class="form-control" id="git-proj-{{ forloop.counter }}-name" name="git-proj-{{ forloop.counter }}-name" value = "{{ proj.gitproj_title }}">
                            </div>
                            <div class="mb-3">
                                <label for="git-proj-{{ forloop.counter }}-det-1" class="form-label">Details-1<b style="color: red;">*</b></label>
                                <input type="text" class="form-control" id="git-proj-{{ forloop.counter }}-det-1" name="git-proj-{{ forloop.counter }}-det-1" value = "{{ proj.gitproj_details.0.gitproj_details1 }}">
                            </div>
                            <div class="mb-3">
                                <label for="git-proj-{{ forloop.counter }}-det-2" class="form-label">Details-2</label>
                                <input type="text" class="form-control" id="git-proj-{{ forloop.counter }}-det-2" name="git-proj-{{ forloop.counter }}-det-2" value = "{{ proj.gitproj_details.1.gitproj_details1 }}">
                            </div>
                            <button class="btn btn-danger delete-btn" onclick="deleteGithubProject({{ forloop.counter }})">Delete</button>
                        </div>
                    </div>
                </div>

                            {% endfor %}
                            {% else %}
                            <div class="accordion-item" id="githubProjectItem1">
                                <h2 class="accordion-header" id="githubProjectHeading1">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#githubProjectCollapse1" aria-expanded="true"
                                        aria-controls="githubProjectCollapse1">
                                        Project 1
                                    </button>
                                </h2>
                                <div id="githubProjectCollapse1" class="accordion-collapse collapse show"
                                    aria-labelledby="githubProjectHeading1" data-bs-parent="#accordionGithubProjects">
                                    <div class="accordion-body">
                            <div class="mb-3">
                                <label for="git-proj-1-name" class="form-label">Project Name<b
                                        style="color: red;">*</b></label>
                                <input type="text" class="form-control" id="git-proj-1-name" name="git-proj-1-name"
                                    maxlength="66">
                            </div>
                            <div class="mb-3">
                                <label for="git-proj-1-det-1" class="form-label">Details-1<b style="color: red;">*</b></label>
                                <input type="text" class="form-control" id="git-proj-1-det-1" name="git-proj-1-det-1">
                            </div>
                            <div class="mb-3">
                                <label for="git-proj-1-det-2" class="form-label">Details-2</label>
                                <input type="text" class="form-control" id="git-proj-1-det-2" name="git-proj-1-det-2">
                            </div>
                            <button class="btn btn-danger delete-btn" onclick="deleteGithubProject(1)">Delete</button>
                        </div>
                    </div>
                </div>
                            {% endif %}
                        
            </div>

            <!-- Button to add more Github Projects -->
            <div type="button" class="btn btn-outline-primary my-3" onclick="addGithubProject()">Add More Projects</div>

            <!-- Buttons to handle next and previous for Github Projects -->
            <div class="d-flex justify-content-center my-3">
                <label for="agreeTerms">
                    <input type="checkbox" class="form-check-input" id="agreeTerms" name="agreeTerms"> I agree to the terms and conditions of TNP and the information provided is true to my knowledge.
                </label>
            </div>
            <div class="d-flex justify-content-center my-2">
                <div class="btn btn-outline-success px-5 mx-4" onclick="handlePrev(7)">Prev</div>
                <div class="btn btn-success px-5 mx-4" id='sub-btn' onclick="HandleSubmit()">Submit</div>
                <div class="btn btn-success px-5 mx-4 d-none" onclick="HandleRedirection()">Back to home</div>
            </div>
        </div>
    </form>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
        crossorigin="anonymous"></script>

    <script>
        {% comment %} function generate_notification(message, type) {
            console.log(message);
            var notification = document.createElement('div');
            notification.className = `alert alert-${type} alert-dismissible fade show fixed-top`;
            notification.role = 'alert';
            notification.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            `;
            document.body.insertBefore(notification, document.body.firstChild);
        
            setTimeout(function() {
                notification.remove();
            }, 2000);
        } {% endcomment %}


        function selectBoard(e) {
            if (e.value == "Other") {
                document.getElementById("otherBoardInput").style.display = "block";
            } else {
                document.getElementById("otherBoardInput").style.display = "none";
            }
        }

        function selectBoard2(e) {
            if (e.value == "Other") {
                document.getElementById("otherBoardInput2").style.display = "block";
            } else {
                document.getElementById("otherBoardInput2").style.display = "none";
            }
        }

        window.onload = () => {
            const val1 = "{{ user.tenth.tenth_details }}";
            const val2 = "{{ user.twelth.twelth_details }}";
            const val3 = "{{ user.education.ins_details}}";
            const sel1 = document.getElementById('sch-1-board');
            const sel2 = document.getElementById('sch-2-board');
            const sel3 = document.getElementById('eddetails');

            var find_val = false;
            if(val1){
                for(let i = 0; i < sel1.options.length; i++){
                    if(sel1.options[i].value === val1){
                        find_val = true;
                        break;
                    }
                }
                if (!find_val) {
                    document.getElementById("otherBoardInput").style.display = "block";
                    document.getElementById("otherBoardText").value = val1;
                    document.getElementById('sch-1-board').value = "Other";
                }else{
                    document.getElementById("otherBoardInput").style.display = "none";
                    document.getElementById("sch-1-board").value = "{{ user.tenth.tenth_details }}";
                }
            }

            var find_val = false;

            if(val2){
                for(let i = 0; i < sel2.options.length; i++){
                    if(sel2.options[i].value === val2){
                        find_val = true;
                        break;
                    }
                }
                if (!find_val) {
                    document.getElementById("otherBoardInput2").style.display = "block";
                    document.getElementById("otherBoardText2").value = val2;
                    document.getElementById("sch-2-board").value = "Other";
                }else{
                    document.getElementById("otherBoardInput2").style.display = "none";
                    document.getElementById("sch-2-board").value = "{{ user.twelth.twelth_details }}";
                }
            }

            if(val3){
                document.getElementById("eddetails").value = "{{ user.education.ins_details }}";
            }else{
                document.getElementById("eddetails").value = "0";
            }
        }

        function handleNext(currentPage) {
            var nextStep = currentPage + 1;
            var currentPageElement = document.getElementById('page-' + currentPage);
            var nextPageElement = document.getElementById('page-' + nextStep);

            if (currentPageElement && nextPageElement) {
                currentPageElement.style.display = 'none';
                nextPageElement.style.display = 'block';
            }
        }

        function handlePrev(currentPage) {
            var prevStep = currentPage - 1;
            var currentPageElement = document.getElementById('page-' + currentPage);
            var prevPageElement = document.getElementById('page-' + prevStep);

            if (currentPageElement && prevPageElement) {
                currentPageElement.style.display = 'none';
                prevPageElement.style.display = 'block';
            }
        }

        function HandleRedirection() {
            window.location.href = "{% url 'landing_page' %}";
        }

        var experienceCount = Math.max({{ user.experience|length }},1);
        var internshipCount = Math.max({{ user.Internships|length }},1);
        var hackathonCount = Math.max({{user.Hackathon|length}},1);
        var githubProjectCount = Math.max({{user.Gitproj|length}},1);
 
        function deleteExperience(id) {
            var experienceItem = document.getElementById('experienceItem' + id);
            for (let i = id + 1; i <= experienceCount; i++) {
                var nextExperienceItem = document.getElementById('experienceItem' + i);
                if (nextExperienceItem) {
                    nextExperienceItem.id = 'experienceItem' + (i - 1);
                    nextExperienceItem.querySelector('h2').id = 'experienceHeading' + (i - 1);
                    nextExperienceItem.querySelector('button').innerText = 'Experience ' + (i - 1);
                    // Update the input elements
                    nextExperienceItem.querySelectorAll('input').forEach(input => {
                        var name = input.getAttribute('name');
                        var newName = name.replace(`-${i}-`, `-${i - 1}-`);
                        input.setAttribute('name', newName);
                        input.setAttribute('id', newName);
                    });
                    // Update the delete button's onclick attribute
                    nextExperienceItem.querySelector('div').querySelector('button').setAttribute('onclick', `deleteExperience(${i - 1})`);
                }
            }
            experienceCount--;
            experienceItem.remove();
        } 
        
        function deleteInternship(id) {
            var internshipItem = document.getElementById('internshipItem' + id);
            for (let i = id + 1; i <= internshipCount; i++) {
                var nextInternshipItem = document.getElementById('internshipItem' + i);
                if (nextInternshipItem) {
                    nextInternshipItem.id = 'internshipItem' + (i - 1);
                    nextInternshipItem.querySelector('h2').id = 'internshipHeading' + (i - 1);
                    nextInternshipItem.querySelector('button').innerText = 'Internship ' + (i - 1);
                    // Update the input elements
                    nextInternshipItem.querySelectorAll('input').forEach(input => {
                        var name = input.getAttribute('name');
                        var newName = name.replace(`-${i}-`, `-${i - 1}-`);
                        input.setAttribute('name', newName);
                        input.setAttribute('id', newName);
                    });
                    // Update the delete button's onclick attribute
                    nextInternshipItem.querySelector('div').querySelector('button').setAttribute('onclick', `deleteInternship(${i - 1})`);
                }
            }
            internshipCount--;
            internshipItem.remove();
        }

        function deleteHackathon(id) {
            var hackathonItem = document.getElementById('hackathonItem' + id);
            for (let i = id + 1; i <= hackathonCount; i++) {
                var nextHackathonItem = document.getElementById('hackathonItem' + i);
                if (nextHackathonItem) {
                    nextHackathonItem.id = 'hackathonItem' + (i - 1);
                    nextHackathonItem.querySelector('h2').id = 'hackathonHeading' + (i - 1);
                    nextHackathonItem.querySelector('button').innerText = 'Hackathon ' + (i - 1);
                    // Update the input elements
                    nextHackathonItem.querySelectorAll('input').forEach(input => {
                        var name = input.getAttribute('name');
                        var newName = name.replace(`-${i}-`, `-${i - 1}-`);
                        input.setAttribute('name', newName);
                        input.setAttribute('id', newName);
                    });
                    // Update the delete button's onclick attribute
                    nextHackathonItem.querySelector('div').querySelector('button').setAttribute('onclick', `deleteHackathon(${i - 1})`);
                }
            }
            hackathonCount--;
            hackathonItem.remove();
        }

        function deleteGithubProject(id) {
            var githubProjectItem = document.getElementById('githubProjectItem' + id);
            for (let i = id + 1; i <= githubProjectCount; i++) {
                var nextGithubProjectItem = document.getElementById('githubProjectItem' + i);
                if (nextGithubProjectItem) {
                    nextGithubProjectItem.id = 'githubProjectItem' + (i - 1);
                    nextGithubProjectItem.querySelector('h2').id = 'githubProjectHeading' + (i - 1);
                    nextGithubProjectItem.querySelector('button').innerText = 'Project ' + (i - 1);
                    // Update the input elements
                    nextGithubProjectItem.querySelectorAll('input').forEach(input => {
                        var name = input.getAttribute('name');
                        var newName = name.replace(`-${i}-`, `-${i - 1}-`);
                        input.setAttribute('name', newName);
                        input.setAttribute('id', newName);
                    });
                    // Update the delete button's onclick attribute
                    nextGithubProjectItem.querySelector('div').querySelector('button').setAttribute('onclick', `deleteGithubProject(${i - 1})`);
                }
            }
            githubProjectCount--;
            githubProjectItem.remove();
        }




        function addExperience() {
            experienceCount++; // Increment the counter

            // Create a new accordion item
            var newExperienceItem = document.createElement('div');
            newExperienceItem.className = 'accordion-item';
            newExperienceItem.id = 'experienceItem' + experienceCount;

            // Create the accordion header
            var accordionHeader = document.createElement('h2');
            accordionHeader.className = 'accordion-header';
            accordionHeader.id = 'experienceHeading' + experienceCount;

            var accordionButton = document.createElement('button');
            accordionButton.className = 'accordion-button';
            accordionButton.type = 'button';
            accordionButton.setAttribute('data-bs-toggle', 'collapse');
            accordionButton.setAttribute('data-bs-target', '#experienceCollapse' + experienceCount);
            accordionButton.setAttribute('aria-expanded', 'true');
            accordionButton.setAttribute('aria-controls', 'experienceCollapse' + experienceCount);
            accordionButton.innerText = 'Experience ' + experienceCount;

            // Create the accordion collapse content
            var accordionCollapse = document.createElement('div');
            accordionCollapse.id = 'experienceCollapse' + experienceCount;
            accordionCollapse.className = 'accordion-collapse collapse';
            accordionCollapse.setAttribute('aria-labelledby', 'experienceHeading' + experienceCount);
            accordionCollapse.setAttribute('data-bs-parent', '#experienceAccordion');

            var accordionBody = document.createElement('div');
            accordionBody.className = 'accordion-body';

            // Add input fields to the accordion body
            accordionBody.innerHTML = `
            <div class="mb-3">
                <label for="exp-${experienceCount}-cname" class="form-label">Name of Company<b style="color: red;">*</b></label>
                <input type="text" class="form-control" id="exp-${experienceCount}-cname" name="exp-${experienceCount}-cname">
            </div>
            <div class="mb-3">
                <label for="exp-${experienceCount}-time-period" class="form-label">Time-Period<b style="color: red;">*</b></label>
                <br>
                <div class="d-flex">
                    <div>
                        <p class="my-2">From : </p>
                        <input type="number" min="2020" max="2040" class="form-control w-100"
                            id="exp-${experienceCount}-time-period-from" name="exp-${experienceCount}-time-period-from">
                    </div>
                    <div class="mx-2">
                        <p class="my-2">To : </p>
                        <input type="number" min="2020" max="2040" class="form-control w-100"
                            id="exp-${experienceCount}-time-period-to" name="exp-${experienceCount}-time-period-to">
                    </div> 
                </div>
            </div>
            <div class="mb-3">
                <label for="exp-${experienceCount}-designation" class="form-label">Designation<b style="color: red;">*</b></label>
                <input type="text" class="form-control" id="exp-${experienceCount}-designation" name="exp-${experienceCount}-designation">
            </div>
            <div class="mb-3">
                <label for="exp-${experienceCount}-location" class="form-label">Location<b style="color: red;">*</b></label>
                <input type="text" class="form-control" id="exp-${experienceCount}-location" name="exp-${experienceCount}-location">
            </div>
            <div class="mb-3">
                <label for="exp-${experienceCount}-det-1" class="form-label">details-1</label>
                <input type="text" class="form-control" id="exp-${experienceCount}-det-1" name="exp-${experienceCount}-det-1">
            </div>
            <div class="mb-3">
                <label for="exp-${experienceCount}-det-2" class="form-label">details-2</label>
                <input type="text" class="form-control" id="exp-${experienceCount}-det-2" name="exp-${experienceCount}-det-2">
            </div>
            <div class="mb-3">
                <label for="exp-${experienceCount}-det-3" class="form-label">details-3</label>
                <input type="text" class="form-control" id="exp-${experienceCount}-det-3" name="exp-${experienceCount}-det-3">
            </div>
            <button class="btn btn-danger delete-btn" onclick="deleteExperience(${experienceCount})">Delete</button>
        `;

            // Append elements to create the accordion item
            accordionHeader.appendChild(accordionButton);
            newExperienceItem.appendChild(accordionHeader);
            accordionCollapse.appendChild(accordionBody);
            newExperienceItem.appendChild(accordionCollapse);

            // Append the new accordion item to the experience accordion
            var experienceAccordion = document.getElementById('experienceAccordion');
            experienceAccordion.appendChild(newExperienceItem);
        }

        function addInternship() {
            internshipCount++; // Increment the counter

            // Create a new accordion item
            var newInternshipItem = document.createElement('div');
            newInternshipItem.className = 'accordion-item';
            newInternshipItem.id = 'internshipItem' + internshipCount;

            // Create the accordion header
            var accordionHeader = document.createElement('h2');
            accordionHeader.className = 'accordion-header';
            accordionHeader.id = 'internshipHeading' + internshipCount;

            var accordionButton = document.createElement('button');
            accordionButton.className = 'accordion-button';
            accordionButton.type = 'button';
            accordionButton.setAttribute('data-bs-toggle', 'collapse');
            accordionButton.setAttribute('data-bs-target', '#internshipCollapse' + internshipCount);
            accordionButton.setAttribute('aria-expanded', 'true');
            accordionButton.setAttribute('aria-controls', 'internshipCollapse' + internshipCount);
            accordionButton.innerText = 'Internship ' + internshipCount;

            // Create the accordion collapse content
            var accordionCollapse = document.createElement('div');
            accordionCollapse.id = 'internshipCollapse' + internshipCount;
            accordionCollapse.className = 'accordion-collapse collapse';
            accordionCollapse.setAttribute('aria-labelledby', 'internshipHeading' + internshipCount);
            accordionCollapse.setAttribute('data-bs-parent', '#accordionInternships');

            var accordionBody = document.createElement('div');
            accordionBody.className = 'accordion-body';

            // Add input fields to the accordion body
            accordionBody.innerHTML = `
            <div class="mb-3">
                <label for="intern-${internshipCount}-cname" class="form-label">Name of Company<b style="color: red;">*</b></label>
                <input type="text" class="form-control" id="intern-${internshipCount}-cname" name="intern-${internshipCount}-cname">
            </div>
            <div class="mb-3">
                <label for="intern-${internshipCount}-time-period" class="form-label">Time-Period<b style="color: red;">*</b></label>
                <br>
                <div class="d-flex">
                    <div>
                        <p class="my-2">From : </p>
                        <input type="number" min="2020" max="2030" class="form-control w-100"
                            id="intern-${internshipCount}-time-period-from" name="intern-${internshipCount}-time-period-from">
                    </div>
                    <div class="mx-2">
                        <p class="my-2">To : </p>
                        <input type="number" min="2020" max="2030" class="form-control w-100"
                            id="intern-${internshipCount}-time-period-to" name="intern-${internshipCount}-time-period-to">
                    </div> 
                </div>
            </div>
            <div class="mb-3">
                <label for="intern-${internshipCount}-role" class="form-label">Role<b style="color: red;">*</b></label>
                <input type="text" class="form-control" id="intern-${internshipCount}-role" name="intern-${internshipCount}-role">
            </div>
            <div class="mb-3">
                <label for="intern-${internshipCount}-location" class="form-label">Location<b style="color: red;">*</b></label>
                <input type="text" class="form-control" id="intern-${internshipCount}-location" name="intern-${internshipCount}-location">
            </div>
            <div class="mb-3">
                <label for="intern-${internshipCount}-det-1" class="form-label">details-1</label>
                <input type="text" class="form-control" id="intern-${internshipCount}-det-1" name="intern-${internshipCount}-det-1">
            </div>
            <div class="mb-3">
                <label for="intern-${internshipCount}-det-2" class="form-label">details-2</label>
                <input type="text" class="form-control" id="intern-${internshipCount}-det-2" name="intern-${internshipCount}-det-2">
            </div>
            <div class="mb-3">
                <label for="intern-${internshipCount}-det-3" class="form-label">details-3</label>
                <input type="text" class="form-control" id="intern-${internshipCount}-det-3" name="intern-${internshipCount}-det-3">
            </div>
            <button class="btn btn-danger delete-btn" onclick="deleteInternship(${internshipCount})">Delete</button>
        `;

            // Append elements to create the accordion item
            accordionHeader.appendChild(accordionButton);
            newInternshipItem.appendChild(accordionHeader);
            accordionCollapse.appendChild(accordionBody);
            newInternshipItem.appendChild(accordionCollapse);

            // Append the new accordion item to the internship accordion
            var internshipAccordion = document.getElementById('accordionInternships');
            internshipAccordion.appendChild(newInternshipItem);
        }

        function addHackathon() {
            hackathonCount++; // Increment the counter

            // Create a new accordion item
            var newHackathonItem = document.createElement('div');
            newHackathonItem.className = 'accordion-item';
            newHackathonItem.id = 'hackathonItem' + hackathonCount;

            // Create the accordion header
            var accordionHeader = document.createElement('h2');
            accordionHeader.className = 'accordion-header';
            accordionHeader.id = 'hackathonHeading' + hackathonCount;

            var accordionButton = document.createElement('button');
            accordionButton.className = 'accordion-button';
            accordionButton.type = 'button';
            accordionButton.setAttribute('data-bs-toggle', 'collapse');
            accordionButton.setAttribute('data-bs-target', '#hackathonCollapse' + hackathonCount);
            accordionButton.setAttribute('aria-expanded', 'true');
            accordionButton.setAttribute('aria-controls', 'hackathonCollapse' + hackathonCount);
            accordionButton.innerText = 'Hackathon ' + hackathonCount;

            // Create the accordion collapse content
            var accordionCollapse = document.createElement('div');
            accordionCollapse.id = 'hackathonCollapse' + hackathonCount;
            accordionCollapse.className = 'accordion-collapse collapse';
            accordionCollapse.setAttribute('aria-labelledby', 'hackathonHeading' + hackathonCount);
            accordionCollapse.setAttribute('data-bs-parent', '#accordionHackathons');

            var accordionBody = document.createElement('div');
            accordionBody.className = 'accordion-body';

            // Add input fields to the accordion body
            accordionBody.innerHTML = `
            <div class="mb-3">
                <label for="hack-${hackathonCount}-name" class="form-label">Hackathon Name<b style="color: red;">*</b></label>
                <input type="text" class="form-control" id="hack-${hackathonCount}-name" name="hack-${hackathonCount}-name">
            </div>
            <div class="mb-3">
                <label class="form-label">Hackathon Status<b style="color: red;">*</b></label> 
                <div class="form-check">
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="hack-${hackathonCount}-status" id="hack-${hackathonCount}-status-1" value="winner">
                        <label class="form-check-label" for="inlineRadio1">winner</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="hack-${hackathonCount}-status" id="hack-${hackathonCount}-status-2" value="participated" checked>
                        <label class="form-check-label" for="inlineRadio2" >participated</label>
                    </div>
                </div>
            </div>
            <div class="mb-3">
                <label for="hack-${hackathonCount}-time-period" class="form-label">Year of Hackathon<b style="color: red;">*</b></label>
                <input type="number" class="form-control w-25" id="hack-${hackathonCount}-time-period" name="hack-${hackathonCount}-time-period" min="2011">
            </div>
            <div class="mb-3">
                <label for="hack-${hackathonCount}-det-1" class="form-label">Details-1</label>
                <input type="text" class="form-control" id="hack-${hackathonCount}-det-1" name="hack-${hackathonCount}-det-1">
            </div>
            <div class="mb-3">
                <label for="hack-${hackathonCount}-det-2" class="form-label">Details-2</label>
                <input type="text" class="form-control" id="hack-${hackathonCount}-det-2" name="hack-${hackathonCount}-det-2">
            </div>
            <button class="btn btn-danger delete-btn" onclick="deleteHackathon(${hackathonCount})">Delete</button>
        `;

            // Append elements to create the accordion item
            accordionHeader.appendChild(accordionButton);
            newHackathonItem.appendChild(accordionHeader);
            accordionCollapse.appendChild(accordionBody);
            newHackathonItem.appendChild(accordionCollapse);

            // Append the new accordion item to the Hackathon accordion
            var hackathonAccordion = document.getElementById('accordionHackathons');
            hackathonAccordion.appendChild(newHackathonItem);
        }

        function addGithubProject() {
            githubProjectCount++; // Increment the counter

            // Create a new accordion item
            var newGithubProjectItem = document.createElement('div');
            newGithubProjectItem.className = 'accordion-item';
            newGithubProjectItem.id = 'githubProjectItem' + githubProjectCount;

            // Create the accordion header
            var accordionHeader = document.createElement('h2');
            accordionHeader.className = 'accordion-header';
            accordionHeader.id = 'githubProjectHeading' + githubProjectCount;

            var accordionButton = document.createElement('button');
            accordionButton.className = 'accordion-button';
            accordionButton.type = 'button';
            accordionButton.setAttribute('data-bs-toggle', 'collapse');
            accordionButton.setAttribute('data-bs-target', '#githubProjectCollapse' + githubProjectCount);
            accordionButton.setAttribute('aria-expanded', 'true');
            accordionButton.setAttribute('aria-controls', 'githubProjectCollapse' + githubProjectCount);
            accordionButton.innerText = 'Project ' + githubProjectCount;

            // Create the accordion collapse content
            var accordionCollapse = document.createElement('div');
            accordionCollapse.id = 'githubProjectCollapse' + githubProjectCount;
            accordionCollapse.className = 'accordion-collapse collapse';
            accordionCollapse.setAttribute('aria-labelledby', 'githubProjectHeading' + githubProjectCount);
            accordionCollapse.setAttribute('data-bs-parent', '#accordionGithubProjects');

            var accordionBody = document.createElement('div');
            accordionBody.className = 'accordion-body';

            // Add input fields to the accordion body
            accordionBody.innerHTML = `
            <div class="mb-3">
                <label for="git-proj-${githubProjectCount}-name" class="form-label">Project Name<b style="color: red;">*</b></label>
                <input type="text" class="form-control" id="git-proj-${githubProjectCount}-name" name="git-proj-${githubProjectCount}-name">
            </div>
            <div class="mb-3">
                <label for="git-proj-${githubProjectCount}-det-1" class="form-label">Details-1<b style="color: red;">*</b></label>
                <input type="text" class="form-control" id="git-proj-${githubProjectCount}-det-1" name="git-proj-${githubProjectCount}-det-1">
            </div>
            <div class="mb-3">
                <label for="git-proj-${githubProjectCount}-det-2" class="form-label">Details-2</label>
                <input type="text" class="form-control" id="git-proj-${githubProjectCount}-det-2" name="git-proj-${githubProjectCount}-det-2">
            </div>
            <button class="btn btn-danger delete-btn" onclick="deleteGithubProject(${githubProjectCount})">Delete</button>
        `;

            // Append elements to create the accordion item
            accordionHeader.appendChild(accordionButton);
            newGithubProjectItem.appendChild(accordionHeader);
            accordionCollapse.appendChild(accordionBody);
            newGithubProjectItem.appendChild(accordionCollapse);

            // Append the new accordion item to the Github Projects accordion
            var githubProjectsAccordion = document.getElementById('accordionGithubProjects');
            githubProjectsAccordion.appendChild(newGithubProjectItem);

        }

        function HandleSubmit(e) {

            var terms = document.getElementById('agreeTerms');
            if (!terms.checked) {
                alert('Please agree to the terms and conditions');
                return;
            }

            var firstname = document.getElementById('fname').value.toUpperCase(); 
            var lastname = document.getElementById('lname').value.toUpperCase();
            var mobile = document.getElementById('contact-no').value;
            
            var email = document.getElementById('e-mail').value;
            var linked = document.getElementById('linkedin').value;
            var github = document.getElementById('github').value;
            var csrfToken = document.getElementsByName('csrfmiddlewaretoken')[0].value;
            var whatsno = document.getElementById('whats-no').value;
            var address = document.getElementById('addr').value;
            var careerSummary = {
                "data": document.getElementById('career-summary').value,
            };

            // 10th details
            var tenth = {
                "tenth_name": document.getElementById('schname-1').value,
                "tenth_period": document.getElementById('sch-1-tperiod-from').value + ' - ' + document.getElementById('sch-1-tperiod-to').value,
                "tenth_per": document.getElementById('sch-1-cgpa').value,
                "tenth_details": document.getElementById('sch-1-board').value === 'Other' ? document.getElementById('otherBoardText').value : document.getElementById('sch-1-board').value
            };

            // twelth details
            var twelth = {
                "twelth_name": document.getElementById('schname-2').value,
                "twelth_period": document.getElementById('sch-2-tperiod-from').value + ' - ' + document.getElementById('sch-2-tperiod-to').value,
                "twelth_per": document.getElementById('sch-2-cgpa').value,
                "twelth_details": document.getElementById('sch-2-board').value === 'Other' ? document.getElementById('otherBoardText2').value : document.getElementById('sch-2-board').value
            };

            // Education details
            var education = {
                "Education_clg": document.getElementById('insname').value,
                "ed_date": document.getElementById('tperiod1').value + ' - ' + document.getElementById('tperiod2').value,
                "ins_cgpa": document.getElementById('ins-cgpa').value,
                "ins_details": document.getElementById('eddetails').value
            };

            var Skills = {
                "prog_lang" : document.getElementById('skill1').value,
                "tech_frame_lib" : document.getElementById('skill2').value,
                "version_control"  : document.getElementById('skill3').value,
                "familier" : document.getElementById('skill4').value,
            }

            // Achievements
            var achievements = [
                { "ach_details": document.getElementById('achieve1').value },
                { "ach_details": document.getElementById('achieve2').value },
                { "ach_details": document.getElementById('achieve3').value }
            ];

            // Experience
            var experiences = [];
            var expCount = experienceCount;
            for (var i = 1; i <= expCount; i++) {
                var expDetails3 = [];

                for (var j = 1; j <= 3; j++) {
                    var expDetail = document.getElementById('exp-' + i + '-det-' + j).value;
                    expDetails3.push({ "exp_details": expDetail });
                }
                var expDetails = {
                    "exp_company": document.getElementById('exp-' + i + '-cname').value,
                    "exp_date": document.getElementById('exp-' + i + '-time-period-from').value + ' - ' + document.getElementById('exp-' + i + '-time-period-to').value,
                    "exp_details1": document.getElementById('exp-' + i + '-designation').value,
                    "exp_details2": document.getElementById('exp-' + i + '-location').value,
                    "exp_details3": expDetails3
                };

                experiences.push(expDetails);
            }

            // Internships
            var internships = [];
            var internCount = internshipCount;
            for (var i = 1; i <= internCount; i++) {
                var internDetails3 = [];

                for (var j = 1; j <= 3; j++) {
                    var internDetail = document.getElementById('intern-' + i + '-det-' + j).value;
                    internDetails3.push({ "intern_details": internDetail });
                }

                var internDetails = {
                    "intern_company": document.getElementById('intern-' + i + '-cname').value,
                    "intern_date": document.getElementById('intern-' + i + '-time-period-from').value + ' - ' + document.getElementById('intern-' + i + '-time-period-to').value,
                    "intern_details1": document.getElementById('intern-' + i + '-role').value,
                    "intern_details2": document.getElementById('intern-' + i + '-location').value,
                    "intern_details3": internDetails3
                };

                internships.push(internDetails);
            }

            // Hackathons
            var hackathons = [];
            for (var i = 1; i <= hackathonCount; i++) {
                var hackDetails = {
                    "hack_title": document.getElementById('hack-' + i + '-name').value,
                    "hack_status": document.querySelector('input[name="hack-' + i + '-status"]:checked').value,
                    "hack_date": document.getElementById('hack-' + i + '-time-period').value,
                    "hack_details": [{ "hack_details1": document.getElementById('hack-' + i + '-det-1').value },
                    { "hack_details1": document.getElementById('hack-' + i + '-det-2').value }]
                };
                hackathons.push(hackDetails);
            }

            // Github Projects
            var githubProjects = [];
            var gitProjCount = githubProjectCount;
            for (var i = 1; i <= gitProjCount; i++) {
                var gitProjDetails = {
                    "gitproj_title": document.getElementById('git-proj-' + i + '-name').value,
                    "gitproj_details": [{ "gitproj_details1": document.getElementById('git-proj-' + i + '-det-1').value },
                    { "gitproj_details1": document.getElementById('git-proj-' + i + '-det-2').value }]
                };
                githubProjects.push(gitProjDetails);
            }

            var resumeData = {
                "json": [{
                    "firstname": firstname,
                    "lastname": lastname,
                    "mobile": mobile,
                    "whatsno": whatsno,
                    "address": address,
                    "email": email,
                    "linked": linked,
                    "github": github,
                    "CareerSum": careerSummary,
                    "education": education,
                    "tenth": tenth,
                    "twelth": twelth,
                    "Skills": Skills,
                    "achievement": achievements,
                    "experience": experiences,
                    "Internships": internships,
                    "Hackathon": hackathons,
                    "Gitproj": githubProjects
                }]
            };

            const nameReg = /^[a-zA-Z]+$/;

            //match blank input fields regex
            const matchBlackFiels = /^\s*$/;

            if(matchBlackFiels.test(document.getElementById("fname").value)){
                alert("first Name is required");
                return false;
            }

            if(matchBlackFiels.test(document.getElementById("lname").value)){
                alert("last Name is required");
                return false;
            }
            
            if(nameReg.test(document.getElementById("fname").value) && nameReg.test(document.getElementById("lname").value)){
                resumeData.json[0].Name = document.getElementById("fname").value.toUpperCase() + " " + document.getElementById("lname").value.toUpperCase();
            }else{
                alert("first name or last name should contain only alphabets");
                return false;
            }       

            if(matchBlackFiels.test(mobile)){
                alert("Contact number is required");
                return false;
            }else if(mobile.length !== 10){
                alert("Contact number should be of 10 digits");
                return false;
            }else{
                resumeData.json[0].mobile = "+91 " + mobile.slice(0,5) + "-" + mobile.slice(5,10);
            }
            
            if(matchBlackFiels.test(email)){
                alert("Email is required");
                return false;
            }

            if(matchBlackFiels.test(whatsno)){
                alert("Whatsapp number is required");
                return false;
            }else if(whatsno.length !== 10){
                alert("Whatsapp number should be of 10 digits");
                return false;
            }else{
                var modifiedwhats = "+91 " + whatsno.slice(0,5) + "-" + whatsno.slice(5,10);
                resumeData.json[0].whatsno = modifiedwhats;
            }

            if(matchBlackFiels.test(address)){
                alert("Address is required");
                return false;
            }

            if(matchBlackFiels.test(linked)){
                alert("Linkedin is required");
                return false;
            }else if(linked.slice(0,12) !== "https://www."){
                alert("Linkedin URL should start with 'https://www.'");
                return false;
            }else{
                resumeData.json[0].linked = linked.slice(12,linked.length);
            }

            if(matchBlackFiels.test(github)){
                alert("Github is required");
                return false;
            }else if(github.slice(0,8) !== "https://"){
                alert("Github URL should start with 'https://'");
                return false;
            }else{
                resumeData.json[0].github = github.slice(8,github.length);
            }

            if(matchBlackFiels.test(careerSummary.data)){
                delete resumeData.json[0].CareerSum;
            } 

            if(matchBlackFiels.test(document.getElementById('schname-1').value)){
                alert("10th school name is required");
                return false;
            }

            if(matchBlackFiels.test( document.getElementById('sch-1-tperiod-from').value) || matchBlackFiels.test(document.getElementById('sch-1-tperiod-to').value)){
                alert("10th school time-period is required");
                return false;
            }

            if(matchBlackFiels.test(document.getElementById('sch-1-cgpa').value)){
                alert("10th school percentage is required");
                return false;
            }else{
                resumeData.json[0].tenth["tenth_per"] = document.getElementById('sch-1-cgpa').value + "%";
            }
            
            if(document.getElementById('sch-1-board').value === "Other"){
                if(matchBlackFiels.test(document.getElementById('otherBoardText').value)){
                    alert("10th school board is required");
                    return false;
                }else{
                    resumeData.json[0].tenth["tenth_details"] = document.getElementById('otherBoardText').value;
                }
            }else{
                if(document.getElementById('sch-1-board').value === "0"){
                    alert("10th school board is required");
                    return false;
                }
                else{
                    resumeData.json[0].tenth["tenth_details"] = document.getElementById('sch-1-board').value;
                }
            }

            if(matchBlackFiels.test(document.getElementById('schname-2').value)){
                alert("12th school name is required");
                return false;
            }

            if(matchBlackFiels.test(document.getElementById('sch-2-tperiod-from').value) || matchBlackFiels.test(document.getElementById('sch-2-tperiod-to').value)){
                alert("12th school time-period is required");
                return false;
            }

            if(matchBlackFiels.test(document.getElementById('sch-2-cgpa').value)){
                alert("12th school percentage is required");
                return false;
            }else{
                resumeData.json[0].twelth["twelth_per"] = document.getElementById('sch-2-cgpa').value + "%";
            }

            if(document.getElementById('sch-2-board').value === "Other"){
                if(matchBlackFiels.test(document.getElementById('otherBoardText2').value)){
                    alert("12th school board is required");
                    return false;
                }else{
                    resumeData.json[0].twelth["twelth_details"] = document.getElementById('otherBoardText2').value;
                }
            }else{
                if(document.getElementById('sch-2-board').value === "0"){
                    alert("12th school board is required");
                    return false;
                }
                else{
                    resumeData.json[0].twelth["twelth_details"] = document.getElementById('sch-2-board').value;
                }
            }

            if(matchBlackFiels.test(document.getElementById('insname').value)){
                alert("Institute name is required");
                return false;
            }
            if(matchBlackFiels.test(document.getElementById('tperiod1').value) || matchBlackFiels.test(document.getElementById('tperiod2').value)){
                alert("Institute time-period is required");
                return false;
            }
            if(matchBlackFiels.test(document.getElementById('ins-cgpa').value)){
                alert("Institute CGPA is required");
                return false;
            }

            if(document.getElementById('eddetails').value === "0"){
                alert("Education details is required");
                return false;
            }

            if(matchBlackFiels.test(document.getElementById('skill1').value)){
                alert("Programming language is required");
                return false;
            }

            if(matchBlackFiels.test(document.getElementById('achieve1').value) && matchBlackFiels.test( document.getElementById('achieve2').value) && matchBlackFiels.test( document.getElementById('achieve3').value)){
                delete resumeData.json[0].achievement;
            }else if(matchBlackFiels.test(document.getElementById('achieve1').value) && matchBlackFiels.test( document.getElementById('achieve2').value)){
                resumeData.json[0].achievement = [{ "ach_details": (document.getElementById('achieve3').value).trim() }];
            }else if(matchBlackFiels.test(document.getElementById('achieve1').value) && matchBlackFiels.test( document.getElementById('achieve3').value)){
                resumeData.json[0].achievement = [{ "ach_details": (document.getElementById('achieve2').value).trim() }];  
            }else if(matchBlackFiels.test(document.getElementById('achieve2').value) && matchBlackFiels.test( document.getElementById('achieve3').value)){
                resumeData.json[0].achievement = [{ "ach_details": (document.getElementById('achieve1').value).trim() }];
            }else if(matchBlackFiels.test(document.getElementById('achieve1').value)){
                resumeData.json[0].achievement = [{ "ach_details": (document.getElementById('achieve2').value).trim() }, { "ach_details": (document.getElementById('achieve3').value).trim() }];
            }else if(matchBlackFiels.test(document.getElementById('achieve2').value)){
                resumeData.json[0].achievement = [{ "ach_details": (document.getElementById('achieve1').value).trim() }, { "ach_details": (document.getElementById('achieve3').value).trim() }];
            }else if(matchBlackFiels.test(document.getElementById('achieve3').value)){
                resumeData.json[0].achievement = [{ "ach_details": (document.getElementById('achieve1').value).trim() }, { "ach_details": (document.getElementById('achieve2').value).trim() }];
            }else{
                resumeData.json[0].achievement = [{ "ach_details": (document.getElementById('achieve1').value).trim() }, { "ach_details": (document.getElementById('achieve2').value).trim() }, { "ach_details": (document.getElementById('achieve3').value).trim() }];
            }
            
            let k = 0;
            for(k = 0; k < experienceCount; k++){
                if(experiences[k]["exp_company"].length !== 0 || (experiences[k]["exp_date"].length - 3) !== 0 || experiences[k]["exp_details1"].length !== 0 || experiences[k]["exp_details2"].length !== 0){
                    if(experiences[k]["exp_company"].length === 0){
                        alert(`Experience ${k+1} company name is required`);
                        return false;
                    }
                    if((experiences[k]["exp_date"].length - 3) === 0){
                        alert(`Experience ${k+1} time-period is required`);
                        return false;
                    }
                    if(experiences[k]["exp_details1"].length === 0){
                        alert(`Experience ${k+1} role is required`);
                        return false;
                    }
                    if(experiences[k]["exp_details2"].length === 0){
                        alert(`Experience ${k+1} location is required`);
                        return false;
                    }
                    if(document.getElementById('exp-' + (k+1) + '-time-period-from').value === "" || document.getElementById('exp-' + (k+1) + '-time-period-to').value === ""){
                        alert(`Experience ${k+1} time-period is required`);
                        return false;
                    }
                }
            }
            if(experiences[0]["exp_company"].length === 0 || (experiences[0]["exp_date"].length - 3) === 0 || experiences[0]["exp_details1"].length === 0 || experiences[0]["exp_details2"].length === 0){
                delete resumeData.json[0].experience;
            }

            for(k = 0; k < internshipCount; k++){
                if(internships[k]["intern_company"] !== "" || internships[k]["intern_date"] !== " - " || internships[k]["intern_details1"] !== "" || internships[k]["intern_details2"] !== ""){
                    if(internships[k]["intern_company"] === ""){
                        alert(`Internship ${k+1} company name is required`);
                        return false;
                    }
                    if(internships[k]["intern_date"] === " - "){
                        alert(`Internship ${k+1} time-period is required`);
                        return false;
                    }
                    if(internships[k]["intern_details1"] === ""){
                        alert(`Internship ${k+1} role is required`);
                        return false;
                    }
                    if(internships[k]["intern_details2"] === ""){
                        alert(`Internship ${k+1} location is required`);
                        return false;
                    }
                    if(document.getElementById('intern-' + (k+1) + '-time-period-from').value === "" || document.getElementById('intern-' + (k+1) + '-time-period-to').value === ""){
                        alert(`Internship ${k+1} time-period is required`);
                        return false;
                    }
                }
            }
            if(internships[0]["intern_company"] === "" || internships[0]["intern_date"] === " - " || internships[0]["intern_details1"] === "" || internships[0]["intern_details2"] === ""){
                delete resumeData.json[0].Internships;
            }

            for(k = 0; k < hackathonCount; k++){
                if(hackathons[k]["hack_title"] !== "" || hackathons[k]["hack_date"] !== ""){
                    if(hackathons[k]["hack_title"] === ""){
                        alert(`Hackathon ${k+1} title is required`);
                        return false;
                    }
                    if(hackathons[k]["hack_date"] === ""){
                        alert(`Hackathon ${k+1} year is required`);
                        return false;
                    }
                }
            }
            if(hackathons[0]["hack_title"] === "" || hackathons[0]["hack_date"] === ""){
                delete resumeData.json[0].Hackathon;
            }

            for(k = 0; k < githubProjectCount; k++){
                if(githubProjects[k]["gitproj_title"] !== ""){
                    if(githubProjects[k]["gitproj_title"] === ""){
                        alert(`Github project ${k+1} title is required`);
                        return false;
                    }
                    if(githubProjects[k]["gitproj_details"][0]["gitproj_details1"] === ""){
                        alert(`Github project ${k+1} details-1 is required`);
                        return false;
                    }
                }
            }
            if(githubProjects[0]["gitproj_title"] === ""){
                delete resumeData.json[0].Gitproj;
            }
 
            document.getElementById('sub-btn').style.display = "none";
            document.getElementById('sub-btn').nextElementSibling.classList.remove('d-none');
            console.log(resumeData);

            // Use AJAX to post the JSON data to your Django view
            var xhr = new XMLHttpRequest();
            xhr.open("POST", "{% url 'resume' %}", true);
            xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
            xhr.setRequestHeader("X-CSRFToken", csrfToken);  // Include CSRF token
            xhr.onreadystatechange = function () {
                if (xhr.readyState == 4 && xhr.status == 200) {
                    console.log(xhr.responseText);
                    // Handle success if needed 
                } else if (xhr.readyState == 4) {
                    console.error(xhr.statusText);
                    // Handle error if needed
                }
            };
            console.log(JSON.stringify(resumeData));
            xhr.send(JSON.stringify(resumeData));

            // Prevent the default form submission
            return false;
        }
    </script>
</body>

</html>